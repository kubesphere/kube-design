---
sidebar_position: 6
---

# useMediaQuery

å“åº”å¼åª’ä½“æŸ¥è¯¢ Hookï¼Œç”¨äºæ ¹æ®å±å¹•å°ºå¯¸æˆ–è®¾å¤‡ç‰¹æ€§åŠ¨æ€è°ƒæ•´ UIã€‚

## åŸºæœ¬ç”¨æ³•

```jsx live
function Demo() {
  const isMobile = useMediaQuery('(max-width: 768px)');

  return (
    <div
      style={{
        padding: '24px',
        backgroundColor: 'var(--ifm-background-surface-color)',
        border: '1px solid var(--ifm-color-emphasis-300)',
        borderRadius: '8px',
      }}
    >
      <h4>å½“å‰è®¾å¤‡ç±»å‹</h4>
      <div
        style={{
          padding: '16px',
          marginTop: '12px',
          backgroundColor: isMobile 
            ? 'var(--ifm-color-warning-lightest)' 
            : 'var(--ifm-color-success-lightest)',
          borderRadius: '6px',
          textAlign: 'center',
        }}
      >
        {isMobile ? 'ğŸ“± ç§»åŠ¨è®¾å¤‡' : 'ğŸ’» æ¡Œé¢è®¾å¤‡'}
      </div>
      <p style={{ marginTop: '12px', fontSize: '14px', color: 'var(--ifm-color-emphasis-700)' }}>
        è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°æŸ¥çœ‹å˜åŒ–
      </p>
    </div>
  );
}
```

## å“åº”å¼å¸ƒå±€

æ ¹æ®å±å¹•å°ºå¯¸æ˜¾ç¤ºä¸åŒçš„å¸ƒå±€ï¼š

```jsx live
function Demo() {
  const isDesktop = useMediaQuery('(min-width: 1024px)');
  const isTablet = useMediaQuery('(min-width: 768px) and (max-width: 1023px)');
  const isMobile = useMediaQuery('(max-width: 767px)');

  const getDeviceType = () => {
    if (isDesktop) return { name: 'æ¡Œé¢', icon: 'ğŸ’»', columns: 3 };
    if (isTablet) return { name: 'å¹³æ¿', icon: 'ğŸ“±', columns: 2 };
    return { name: 'æ‰‹æœº', icon: 'ğŸ“±', columns: 1 };
  };

  const device = getDeviceType();

  return (
    <div>
      <div
        style={{
          padding: '16px',
          backgroundColor: 'var(--ifm-color-primary-lightest)',
          borderRadius: '6px',
          marginBottom: '20px',
          textAlign: 'center',
        }}
      >
        {device.icon} å½“å‰: {device.name}è§†å›¾ï¼ˆ{device.columns} åˆ—å¸ƒå±€ï¼‰
      </div>
      <div
        style={{
          display: 'grid',
          gridTemplateColumns: `repeat(${device.columns}, 1fr)`,
          gap: '12px',
        }}
      >
        {[1, 2, 3].map((item) => (
          <div
            key={item}
            style={{
              padding: '20px',
              backgroundColor: 'var(--ifm-background-surface-color)',
              border: '1px solid var(--ifm-color-emphasis-300)',
              borderRadius: '6px',
              textAlign: 'center',
            }}
          >
            é¡¹ç›® {item}
          </div>
        ))}
      </div>
    </div>
  );
}
```

## æš—è‰²æ¨¡å¼æ£€æµ‹

æ£€æµ‹ç³»ç»Ÿä¸»é¢˜åå¥½ï¼š

```jsx live
function Demo() {
  const prefersDark = useMediaQuery('(prefers-color-scheme: dark)');

  return (
    <div
      style={{
        padding: '24px',
        backgroundColor: prefersDark ? '#1a1a1a' : '#ffffff',
        color: prefersDark ? '#ffffff' : '#000000',
        border: `1px solid ${prefersDark ? '#333' : '#e0e0e0'}`,
        borderRadius: '8px',
        transition: 'all 0.3s',
      }}
    >
      <h4>ç³»ç»Ÿä¸»é¢˜åå¥½</h4>
      <p>
        {prefersDark ? 'ğŸŒ™ æš—è‰²æ¨¡å¼' : 'â˜€ï¸ äº®è‰²æ¨¡å¼'}
      </p>
      <p style={{ fontSize: '14px', opacity: 0.7 }}>
        æ ¹æ®ç³»ç»Ÿè®¾ç½®è‡ªåŠ¨é€‚é…ä¸»é¢˜
      </p>
    </div>
  );
}
```

## æ¨ªç«–å±æ£€æµ‹

æ£€æµ‹è®¾å¤‡æ–¹å‘ï¼š

```jsx live
function Demo() {
  const isPortrait = useMediaQuery('(orientation: portrait)');

  return (
    <div
      style={{
        padding: '24px',
        backgroundColor: 'var(--ifm-color-emphasis-100)',
        borderRadius: '8px',
        textAlign: 'center',
      }}
    >
      <div style={{ fontSize: '48px', marginBottom: '16px' }}>
        {isPortrait ? 'ğŸ“±' : 'ğŸ’»'}
      </div>
      <h4>{isPortrait ? 'ç«–å±æ¨¡å¼' : 'æ¨ªå±æ¨¡å¼'}</h4>
      <p style={{ margin: '12px 0 0', fontSize: '14px', color: 'var(--ifm-color-emphasis-700)' }}>
        {isPortrait ? 'è®¾å¤‡å¤„äºç«–å±çŠ¶æ€' : 'è®¾å¤‡å¤„äºæ¨ªå±çŠ¶æ€'}
      </p>
    </div>
  );
}
```

## é«˜åˆ†è¾¨ç‡å±å¹•

æ£€æµ‹é«˜ DPI æ˜¾ç¤ºå±ï¼š

```jsx live
function Demo() {
  const isRetina = useMediaQuery('(min-resolution: 2dppx)');

  return (
    <div
      style={{
        padding: '20px',
        backgroundColor: isRetina 
          ? 'var(--ifm-color-success-lightest)' 
          : 'var(--ifm-color-warning-lightest)',
        borderRadius: '8px',
      }}
    >
      <h4>æ˜¾ç¤ºå±åˆ†è¾¨ç‡</h4>
      <p>
        {isRetina 
          ? 'âœ¨ é«˜åˆ†è¾¨ç‡æ˜¾ç¤ºå±ï¼ˆRetinaï¼‰' 
          : 'ğŸ“º æ ‡å‡†åˆ†è¾¨ç‡æ˜¾ç¤ºå±'}
      </p>
    </div>
  );
}
```

## API

### å‚æ•°

```ts
function useMediaQuery(query: string): boolean
```

| å‚æ•° | è¯´æ˜ | ç±»å‹ | é»˜è®¤å€¼ |
|------|------|------|--------|
| query | CSS åª’ä½“æŸ¥è¯¢å­—ç¬¦ä¸² | `string` | - |

### è¿”å›å€¼

è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåª’ä½“æŸ¥è¯¢æ˜¯å¦åŒ¹é…ã€‚

```ts
boolean
```

## å¸¸ç”¨åª’ä½“æŸ¥è¯¢

### å±å¹•å°ºå¯¸

```ts
// ç§»åŠ¨è®¾å¤‡
'(max-width: 768px)'

// å¹³æ¿è®¾å¤‡  
'(min-width: 768px) and (max-width: 1023px)'

// æ¡Œé¢è®¾å¤‡
'(min-width: 1024px)'

// å¤§å±æ¡Œé¢
'(min-width: 1440px)'
```

### è®¾å¤‡ç‰¹æ€§

```ts
// æš—è‰²æ¨¡å¼
'(prefers-color-scheme: dark)'

// äº®è‰²æ¨¡å¼
'(prefers-color-scheme: light)'

// æ¨ªå±
'(orientation: landscape)'

// ç«–å±
'(orientation: portrait)'

// é«˜åˆ†è¾¨ç‡ï¼ˆRetinaï¼‰
'(min-resolution: 2dppx)'

// å‡å°‘åŠ¨ç”»
'(prefers-reduced-motion: reduce)'
```

## ä½¿ç”¨åœºæ™¯

- **å“åº”å¼å¸ƒå±€**: æ ¹æ®å±å¹•å°ºå¯¸è°ƒæ•´å¸ƒå±€
- **ä¸»é¢˜åˆ‡æ¢**: æ£€æµ‹ç³»ç»Ÿä¸»é¢˜åå¥½
- **ç§»åŠ¨é€‚é…**: é’ˆå¯¹ç§»åŠ¨è®¾å¤‡ä¼˜åŒ– UI
- **æ€§èƒ½ä¼˜åŒ–**: åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šé™ä½å¤æ‚åº¦
- **å¯è®¿é—®æ€§**: æ£€æµ‹ç”¨æˆ·åå¥½è®¾ç½®ï¼ˆå¦‚å‡å°‘åŠ¨ç”»ï¼‰
